---

all:
  vars:
    provisioned_vm_inventory_file: "{{ lookup('env', 'HOME') }}/vm-local-lab-inventory.yaml"
  children:
    all_machines:
      vars:
        ansible_ssh_extra_args: >-
          -o UserKnownHostsFile=/dev/null
          -o StrictHostKeyChecking=no
          -o Compression=no
          -o TCPKeepAlive=yes
          -o VerifyHostKeyDNS=no
          -o ForwardX11=no
          -o ForwardAgent=no
        ansible_python_interpreter: "/usr/bin/python3"
        server_networks:
          uplink:
            interface: bond0
            type: macvlan
          provisioning:
            interface: BOND0-VLAN10
            type: macvlan
          external:
            interface: BOND0-VLAN11
            type: macvlan
      children:
        all_hosts:
          vars:
            ansible_user: root
          children:
            compute_hosts:
              children:
                proxmox_hosts:
                  hosts:
                    compute3:
                      ansible_host: 172.16.27.25
                  children:
                    routers:
                      hosts:
                        router:
                          ansible_host: 172.16.27.44
                          ansible_user: carter
                          ansible_python_interpreter: "/usr/bin/python3"
                    containers:
                      hosts:
                        plex_indexer:
                          ansible_host: 172.16.27.227

                libvirt_hosts:
                  hosts:
                    compute1:
                      ansible_host: 172.16.27.216

                    compute2:
                      ansible_host: 172.16.27.67

            infra_hosts:
              hosts:
                plex:
                  ansible_host: 172.16.27.219
                brix:
                  ansible_host: 172.16.27.218
                  ansible_python_interpreter: "/usr/bin/python"
              children:
                containers:
                  hosts:
                    irc:
                      ansible_host: 172.16.27.52
                    unifi:
                      ansible_host: 172.16.27.141

            storage_hosts:
              hosts:
                system:
                  ansible_host: 172.16.24.92
              children:
                containers:
                  hosts:
                    sabnzb:
                      ansible_host: 172.16.27.244
                    transmission:
                      ansible_host: 172.16.27.49
