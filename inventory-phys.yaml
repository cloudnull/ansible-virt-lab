---

all_machines:
  vars:
    ansible_become: yes
    ansible_become_user: "root"
    ansible_user: "root"
    ansible_ssh_extra_args: >-
      -o UserKnownHostsFile=/dev/null
      -o StrictHostKeyChecking=no
      -o Compression=no
      -o TCPKeepAlive=yes
      -o VerifyHostKeyDNS=no
      -o ForwardX11=no
      -o ForwardAgent=no
  children:
    all_hosts:
      children:
        compute_hosts:
          children:
            proxmox_hosts:
              hosts:
                compute3:
                  ansible_host: 172.16.27.25
                  ansible_python_interpreter: "/usr/bin/python3"
              children:
                vms:
                  hosts:
                    router:
                      ansible_host: 172.16.27.44
                      ansible_python_interpreter: "/usr/bin/python"
                containers:
                  hosts:
                    plex_indexer:
                      ansible_host: 172.16.27.227
                      ansible_python_interpreter: "/usr/bin/python3"

            libvirt_hosts:
              hosts:
                compute1:
                  ansible_host: 172.16.27.220
                  ansible_python_interpreter: "/usr/bin/python3"

                compute2:
                  ansible_host: 172.16.27.67
                  ansible_python_interpreter: "/usr/bin/python3"

        infra_hosts:
          hosts:
            plex:
              ansible_host: 172.16.27.219
              ansible_python_interpreter: "/usr/bin/python3"

            brix:
              ansible_host: 172.16.27.218
              ansible_python_interpreter: "/usr/bin/python"
          children:
            containers:
              hosts:
                irc:
                  ansible_host: 172.16.27.52
                  ansible_python_interpreter: "/usr/bin/python3"
                unifi:
                  ansible_host: 172.16.27.141
                  ansible_python_interpreter: "/usr/bin/python3"

        storage_hosts:
          hosts:
            system:
              ansible_host: 172.16.24.92
              ansible_python_interpreter: "/usr/bin/python3"
          children:
            containers:
              hosts:
                sabnzb:
                  ansible_host: 172.16.27.244
                  ansible_python_interpreter: "/usr/bin/python3"
                transmission:
                  ansible_host: 172.16.27.49
                  ansible_python_interpreter: "/usr/bin/python3"
